# Phase 1 Specification: Infrastructure Setup

## 1. Core Requirements
* **Platform:** Docker Compose.
* **Services Required:**
    * `immich-server`: The main API.
    * `immich-microservices`: Handles background jobs.
    * `immich-machine-learning`: Handles Face Detection (Buffalo_L model).
    * `postgres`: Main database (Ver 14+).
    * `redis`: Caching.
* **Hardware Acceleration:**
    * Must passthrough GPU devices (QuickSync `/dev/dri` or Nvidia runtime) to `immich-microservices` for video transcoding.

## 2. Configuration Constraints
* **Upload Location:** Map `./library` to internal `/usr/src/app/upload`.
* **Machine Learning:** Enable `TYPESENSE` (optional but recommended for text search).
* **External Access:** Assume running behind a reverse proxy (Caddy/Nginx) on port `2283`.

## 3. Definition of Done
* `docker-compose up -d` runs without errors.
* Admin user can be created via web UI.
* A sample video uploaded via web UI plays back with transcoding active.