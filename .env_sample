############
# N8N Configuration
############
N8N_ENCRYPTION_KEY=
N8N_USER_MANAGEMENT_JWT_SECRET=

############
# N8N Google OAuth (OIDC) Configuration (Optional)
############
# Note: n8n OIDC is configured through the web UI (Settings > SSO), not environment variables.
# However, you can reuse your existing Google OAuth credentials:
#   - CLIENT_ID_GOOGLE_LOGIN (already configured)
#   - CLIENT_SECRET_GOOGLE_LOGIN (already configured)
#   - OPENID_PROVIDER_URL (already configured, typically https://accounts.google.com/.well-known/openid-configuration)
#
# To configure:
# 1. Add redirect URI to Google Cloud Console: https://n8n.datacrew.space/rest/sso/oidc/callback
# 2. In n8n UI: Settings > SSO > Select OIDC
# 3. Enter Discovery Endpoint: ${OPENID_PROVIDER_URL}
# 4. Enter Client ID: ${CLIENT_ID_GOOGLE_LOGIN}
# 5. Enter Client Secret: ${CLIENT_SECRET_GOOGLE_LOGIN}
# 6. Save and activate
#
# See: 03-apps/n8n/docs/GOOGLE_OAUTH_SETUP.md for detailed instructions

############
# Supabase Secrets
############
POSTGRES_PASSWORD=
JWT_SECRET=
ANON_KEY=
SERVICE_ROLE_KEY=
DASHBOARD_USERNAME=
DASHBOARD_PASSWORD=
POOLER_TENANT_ID=
POOLER_DB_POOL_SIZE=5
PG_META_CRYPTO_KEY=
VAULT_ENC_KEY=

############
# Supabase Logflare (Analytics)
############
LOGFLARE_PUBLIC_ACCESS_TOKEN=
LOGFLARE_PRIVATE_ACCESS_TOKEN=

############
# Supabase Storage (S3 Compatible)
############
# Optional: Override default MinIO credentials for Supabase storage
# Defaults: SUPABASE_MINIO_ROOT_USER=supa-storage, SUPABASE_MINIO_ROOT_PASSWORD=secret1234
SUPABASE_MINIO_ROOT_USER=
SUPABASE_MINIO_ROOT_PASSWORD=

############
# Neo4j Secrets
############
NEO4J_AUTH=neo4j/your_password

############
# MongoDB Secrets
############
MONGODB_ROOT_USERNAME=admin
MONGODB_ROOT_PASSWORD=
MONGODB_DATABASE=admin
MONGODB_EXPRESS_USERNAME=admin
MONGODB_EXPRESS_PASSWORD=

############
# Langfuse credentials
############
CLICKHOUSE_PASSWORD=
MINIO_ROOT_PASSWORD=
LANGFUSE_SALT=
NEXTAUTH_SECRET=
ENCRYPTION_KEY=

############
# Flowise Configuration
############
FLOWISE_USERNAME=
FLOWISE_PASSWORD=

############
# Open WebUI Google OAuth Configuration (Optional)
############
# Enable OAuth signup (allows automatic account creation on first Google sign-in)
# ENABLE_OAUTH_SIGNUP=false

# Google OAuth Client ID (from Google Cloud Console)
# Note: If CLIENT_ID_GOOGLE_LOGIN is already set (e.g., for Infisical), it will be used automatically
# Otherwise, you can set GOOGLE_CLIENT_ID directly:
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Google OAuth Client Secret (from Google Cloud Console)
# Note: If CLIENT_SECRET_GOOGLE_LOGIN is already set (e.g., for Infisical), it will be used automatically
# Otherwise, you can set GOOGLE_CLIENT_SECRET directly:
# Store in Infisical for production!
# GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# OpenID Provider URL (required for proper logout functionality)
# Defaults to Google's OpenID configuration if not set
# OPENID_PROVIDER_URL=https://accounts.google.com/.well-known/openid-configuration

# Merge accounts by email (optional - allows logging into account matching OAuth email)
# OAUTH_MERGE_ACCOUNTS_BY_EMAIL=false

# Disable login form when OAuth signup is enabled (prevents login issues)
# Set to false if you want OAuth-only authentication
# ENABLE_LOGIN_FORM=true

############
# Docker Hub Credentials (Required for dhi.io registry)
############
# Docker Hub username (same credentials used for dhi.io)
DOCKER_HUB_USERNAME=
# Docker Hub Personal Access Token (PAT) - STRONGLY RECOMMENDED
# OR Docker Hub password (less secure)
DOCKER_HUB_PASSWORD=
# Alternative: You can also use DOCKER_HUB_TOKEN instead of DOCKER_HUB_PASSWORD
# DOCKER_HUB_TOKEN=

############
# Infisical Configuration (Optional - for secret management)
############
# These are automatically generated by the password script, or generate manually:
# INFISICAL_ENCRYPTION_KEY= (generate with: openssl rand -hex 16)
# INFISICAL_AUTH_SECRET= (generate with: openssl rand -base64 32)
#
# NOTE: If using Infisical, these keys are REQUIRED (not optional)
# Uncomment and set these if using Infisical:
# INFISICAL_ENCRYPTION_KEY=
# INFISICAL_AUTH_SECRET=
#
# For local development (port-based)
INFISICAL_HOSTNAME=:8020
INFISICAL_SITE_URL=http://localhost:8020
# For production (domain-based)
# INFISICAL_HOSTNAME=infisical.yourdomain.com
# INFISICAL_SITE_URL=https://infisical.yourdomain.com
# INFISICAL_HTTPS_ENABLED=true

# Infisical Database Configuration (optional - defaults are usually fine)
# INFISICAL_POSTGRES_HOST=infisical-db
# INFISICAL_POSTGRES_PORT=5432
# INFISICAL_POSTGRES_DATABASE=postgres
# INFISICAL_POSTGRES_USERNAME=postgres
# INFISICAL_POSTGRES_PASSWORD=

############
# Infisical Machine Identity (for Lambda server secrets)
############
# Create a Machine Identity with Universal Auth in Infisical:
# 1. Go to Infisical > Project Settings > Machine Identities
# 2. Create new identity with Universal Auth
# 3. Add identity to project with read permissions
# 4. Copy Client ID and Client Secret
INFISICAL_CLIENT_ID=
INFISICAL_CLIENT_SECRET=
INFISICAL_PROJECT_ID=
INFISICAL_ENVIRONMENT=dev
# INFISICAL_HOST=https://infisical.datacrew.space  # Defaults to self-hosted

############
# Cloudflare Tunnel Configuration (Optional)
############
# CLOUDFLARE_TUNNEL_TOKEN=your-tunnel-token-here

############
# Caddy Hostname Configuration (for production deployments)
############
# Uncomment and set these if deploying to production with custom domains
# N8N_HOSTNAME=n8n.yourdomain.com
# WEBUI_HOSTNAME=webui.yourdomain.com
# FLOWISE_HOSTNAME=flowise.yourdomain.com
# SUPABASE_HOSTNAME=supabase.yourdomain.com
# OLLAMA_HOSTNAME=ollama.yourdomain.com
# SEARXNG_HOSTNAME=searxng.yourdomain.com
# LANGFUSE_HOSTNAME=langfuse.yourdomain.com
# NEO4J_HOSTNAME=neo4j.yourdomain.com
# COMFYUI_HOSTNAME=comfyui.yourdomain.com

# ComfyUI container user mapping
# The ComfyUI container requires UID/GID 1024 - do not change these values
# The comfyui-fix-perms init container will set proper ownership on startup
COMFYUI_UID=1024
COMFYUI_GID=1024

# ComfyUI web authentication (shared credentials for all users)
# COMFYUI_WEB_USER=user
# COMFYUI_WEB_PASSWORD=password
# INFISICAL_HOSTNAME=infisical.yourdomain.com
# IMMICH_HOSTNAME=immich.yourdomain.com

############
# Immich Configuration
############
# Immich version (default: release)
# IMMICH_VERSION=release

# Immich Database Configuration
IMMICH_DB_USERNAME=postgres
IMMICH_DB_PASSWORD=
IMMICH_DB_DATABASE_NAME=immich

# Immich Typesense Configuration (for text search)
# Generate API key: openssl rand -hex 32
IMMICH_TYPESENSE_API_KEY=

# Immich Admin API Key (for user provisioning via Cloudflare Auth)
# Get this from Immich admin panel: Settings > API Keys > Create Admin Key
# Required for automatic user provisioning when users authenticate via Cloudflare Access
IMMICH_ADMIN_API_KEY=

############
# Discord Bot Configuration (Optional)
############
# Discord Bot Token (from Discord Developer Portal)
# DISCORD_BOT_TOKEN=your-discord-bot-token

# Discord Upload Channel ID (Optional - if empty, allows uploads from any channel)
# Get channel ID: Right-click channel in Discord > Copy ID (Developer Mode must be enabled)
# DISCORD_UPLOAD_CHANNEL_ID=

# Lambda API URL (for Discord bot to fetch user-specific Immich API keys)
# Defaults to internal network: http://lambda-server:8000
# For external access: https://api.datacrew.space
# LAMBDA_API_URL=http://lambda-server:8000

# Cloudflare Email (for Discord bot to identify user when calling Lambda API)
# This should match the email used for Cloudflare Access authentication
# CLOUDFLARE_EMAIL=your-email@example.com

############
# Optional Configuration
############
# POSTGRES_VERSION=17
# TELEMETRY_ENABLED=true
# LANGFUSE_ENABLE_EXPERIMENTAL_FEATURES=true
# SEARXNG_UWSGI_WORKERS=4
# SEARXNG_UWSGI_THREADS=4

############
# Global Environment Variables (Non-sensitive)
############
# These can also be set in .env.global file
# TZ=America/Denver
# DOMAIN_NAME=yourdomain.com
